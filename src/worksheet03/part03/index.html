<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Week 3 part 3</title>
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; margin: 40px; }
    h1, h2, h3 { color: #333; }
    code { background: #f4f4f4; padding: 3px 5px; border-radius: 4px; }
    .matrix { font-family: monospace; margin-left: 20px; }
</style>
</head>
<body>

<h1>Reflection on Affine and Viewing Transformations</h1>

<hr>

<h2>1. Transformation Matrices Used</h2>

<h3>1.1 Projection Matrix</h3>
<p>The projection matrix used is a <strong>perspective projection</strong>:</p>

<div class="matrix">
P = Perspective(fov, aspect, near, far)
</div>

<p>In code:</p>
<code>mat4.perspective(degToRad(45), aspect, 0.1, 10, projection)</code>

<hr>

<h3>1.2 View Matrix</h3>
<p>The view matrix is constructed using the <strong>lookAt</strong> transformation:</p>

<div class="matrix">
V = LookAt(eye, target, up)
</div>

<p>In code:</p>
<code>mat4.lookAt([0.5, 0.5, 4.0], [0.5, 0.5, 0.5], [0, 1, 0], view)</code>

<hr>

<h3>1.3 Model Matrices</h3>

<h4>Model Matrix for Cube 1 (Translation)</h4>
<div class="matrix">
M<sub>1</sub> = T(-1.5, 0, 0)
</div>

<h4>Model Matrix for Cube 2 (Y-rotation)</h4>
<div class="matrix">
M<sub>2</sub> = R<sub>y</sub>(θ)
</div>

<h4>Model Matrix for Cube 3 (Translation + Rotation X/Y)</h4>
<div class="matrix">
M<sub>3</sub> = T(1.5, 0.5, 0) · R<sub>y</sub>(φ) · R<sub>x</sub>(ψ)
</div>

<hr>

<h2>2. Composite Matrix (MVP) for Each Cube</h2>

<p>
In all cases, the final composite matrix is computed as:
</p>

<div class="matrix">
MVP = P · V · M
</div>

<p>This matrix is sent to the GPU and applied to each vertex in the vertex shader.</p>

<hr>

<h3>2.1 Cube 1</h3>

<p>Model Matrix:</p>
<div class="matrix">
M<sub>1</sub> = T(-1.5, 0, 0)
</div>

<p>Composite Matrix:</p>
<div class="matrix">
MVP<sub>1</sub> = P · V · T(-1.5, 0, 0)
</div>

<hr>

<h3>2.2 Cube 2</h3>

<p>Model Matrix:</p>
<div class="matrix">
M<sub>2</sub> = R<sub>y</sub>(θ)
</div>

<p>Composite Matrix:</p>
<div class="matrix">
MVP<sub>2</sub> = P · V · R<sub>y</sub>(θ)
</div>

<hr>

<h3>2.3 Cube 3</h3>

<p>Model Matrix:</p>
<div class="matrix">
M<sub>3</sub> = T(1.5, 0.5, 0) · R<sub>y</sub>(φ) · R<sub>x</sub>(ψ)
</div>

<p>Composite Matrix:</p>
<div class="matrix">
MVP<sub>3</sub> = P · V · T(1.5, 0.5, 0) · R<sub>y</sub>(φ) · R<sub>x</sub>(ψ)
</div>

<hr>

<h2>3. Summary</h2>

<ul>
    <li>The affine transformations used were translation and rotation (in X and Y).</li>
    <li>The viewing transformation was implemented using a <code>lookAt</code> matrix.</li>
    <li>The projection was a perspective projection matrix.</li>
    <li>Each cube used the composite matrix:
        <div class="matrix">MVP = Projection × View × Model</div>
    </li>
    <li>These matrices were uploaded to the GPU and applied by the vertex shader.</li>
</ul>

</body>
</html>
